Content-Type: text/x-zim-wiki
Wiki-Format: zim 0.4
Creation-Date: 2014-06-20T10:47:18+08:00

====== Keyguard ======
Created Friday 20 June 2014


{{./pasted_image.bmp}}

==== 1先贴上layout布局文件 ====
[[+keyguard_host_view.xml|keyguard_host_view.xml]]

==== 一切都为绕它转 ====



==== 1.KeyguardHostview ====
一看就知道是个中心。几乎包括了所有东西：widget， background， 
	1.继承了KeyguardViewBase 定义了keyguard基本的接口，如onScreenTurnedOff，verifyUnlock, immediateCleanUp,同时还截获音量键处理
	2.
 228         DevicePolicyManager dpm =
 229                 (DevicePolicyManager) mContext.getSystemService(Context.DEVICE_POLICY_SERVICE);	
	3.
 240             final String packageName = "system";                                                                                                                                                        
 241             userContext = mContext.createPackageContextAsUser(packageName, 0,
 242                     new UserHandle(mUserId));
	4.
1426    public static boolean isSafeModeEnabled() {
1427        try {
1428            return IWindowManager.Stub.asInterface(
1429                    ServiceManager.getService("window")).isSafeModeEnabled();

